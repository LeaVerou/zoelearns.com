:root {
	--color-green: oklch(60% .3 120deg);
	--color-red: oklch(60% .3 20deg);
	--color-green-light: color-mix(in oklab, var(--color-green), white 85%);
	--color-red-light: color-mix(in oklab, var(--color-red), white 85%);
}

body {
	display: grid;
	grid-template-columns: auto 1fr auto;
	gap: .5em;
	grid-auto-flow: dense;
	align-content: start;
	margin: 0;
	padding: .5em;
	min-height: 100vh;
	box-sizing: border-box;
	font: 300%/1.2 system-ui, sans-serif;
	background: linear-gradient(to right, var(--color-green-light) 10%, transparent 0 90%, var(--color-red-light) 0);
}

.word-card {
	display: flex;
	flex-flow: column;
	gap: .4em;
	margin: auto;
	align-items: stretch;
	--card-width: 20em;
	width: var(--card-width);
	padding: 1em;
	border: 1px solid hsl(220 10% 80%);
	border-radius: .2em;
	background: white;

	&.correct {
		box-shadow: 0 .1em var(--color-green) inset, var(--box-shadow);
	}

	&.active {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		--box-shadow: 0 1em 1em -1em hsl(220 10% 50% / .3);
		box-shadow: var(--box-shadow);
	}

	&:not(.active) {
		font-size: 30%;

		&.correct {
			grid-column: 1;
		}

		&:not(.correct) {
			grid-column: 3;
		}

		.toolbar {
			display: none;
		}
	}
}

.toolbar {
	display: flex;
	gap: .2em;

	& button {
		border-radius: .2em;
		background: hsl(220 10% 90%);
		padding: .1em .3em;
		border: none;
		font: inherit;
		cursor: pointer;

		&:not(:focus, :hover) {
			opacity: .8;
		}

		&:active {
			transform: scale(.95);
		}
	}

	.spacer {
		flex: 1;
	}

	.previous-word,
	.next-word {
		letter-spacing: -.3em;
	}

	.previous-word,
	.next-word {
		padding-right: .6em;
	}

	.correct,
	.next-word {
		color: white;
	}

	.correct,
	.next-word:is(.correct *) {
		background: var(--color-green);
	}

	.next-word:not(.correct *) {
		background: var(--color-red);
	}
}

.word {
	display: flex;
	margin: 0;
	margin-top: .1em;
	justify-content: center;
	text-align: center;
	font-size: 300%;
	line-height: .9;

	&:has(.syllable.active) .syllable:not(.active) {
		opacity: .2;
	}
}

.syllable {
	display: flex;
}

.letter {
	--color: oklch(50% .3 calc(var(--index) * (360 / 24)));
	color: var(--color);
}

.photos {
	display: flex;
	align-items: stretch;
	justify-content: stretch;
	align-content: stretch;
	justify-items: stretch;
	height: min(var(--card-width) / var(--total-aspect-ratio), 40vh);

	& img {
		height: 100%;
		background: var(--color);
		flex: var(--aspect-ratio);
		object-fit: cover;
	}
}